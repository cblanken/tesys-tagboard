{% load static %}

<div class="p-2 shadow-sm card bg-base-300 lg:min-w-80">
  <div class="relative p-3 card-body">
    <div class="inline-flex gap-4">
      <h2 class="card-title wrap-normal grow text-balance">
        {{ collection.name }} <span class="text-base opacity-50 letter">({{ collection.posts.count }})</span>
      </h2>
      <div class="flex gap-2 items-center">
        {% if collection.public %}
          {% include "icons/feather.html" with icon="eye" %}
          Public
        {% else %}
          {% include "icons/feather.html" with icon="eye-off" %}
          Private
        {% endif %}
      </div>
    </div>
    <div class="inline-flex gap-3">{% include "nav/user_link.html" with user=collection.user %}</div>
    <div class="flex">
      <p class="overflow-y-auto pr-16 max-h-42 overflow-x-clip text-wrap">{{ collection.desc }}</p>
      <div class="flex flex-col gap-2 items-end">
        <button type="submit"
                class="w-20 btn btn-error"
                hx-delete="{% url "delete-collection" collection_id=collection.pk %}"
                hx-on="click"
                hx-swap="outerHTML"
                hx-target="#user-collection-gallery"
                hx-confirm="Are you sure you want to delete this collection?">Delete</button>
        <div class="card-actions">
          <a class="w-20 btn btn-primary"
             href="{% url 'collection' collection_id=collection.id %}">Open</a>
        </div>
      </div>
    </div>
  </div>
</div>
