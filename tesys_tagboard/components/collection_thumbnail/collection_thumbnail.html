{% load static component_tags %}

<div class="p-2 shadow-sm card bg-base-300 lg:min-w-80">
  <div class="relative p-3 card-body">
    <div class="flex absolute top-2 right-2 gap-2 items-center place-self-start">
      {% if collection.public %}
        {% include "icons/feather.html" with icon="eye" %}
        Public
      {% else %}
        {% include "icons/feather.html" with icon="eye-off" %}
        Private
      {% endif %}
    </div>
    <div class="inline-flex gap-4 pr-20">
      <h2 class="text-xl card-title wrap-normal grow text-balance">{{ collection.name }}</h2>
    </div>
    <div class="inline-flex gap-1 items-center my-1">
      <div class="inline-flex gap-3">{% include "nav/user_link.html" with user=collection.user %}</div>
      <div class="font-mono opacity-50 text-small letter">({{ collection.posts.count }} posts)</div>
    </div>
    <div class="flex flex-col gap-4 justify-between h-full">
      <p class="overflow-y-auto max-h-42 overflow-x-clip text-wrap grow">{{ collection.desc }}</p>
      <div class="flex gap-2 justify-end items-end">
        {% slot "delete_button" %}{% endslot %}
        <div class="card-actions">
          <a class="w-20 btn btn-primary"
             href="{% url 'collection' collection_id=collection.id %}">Open</a>
        </div>
      </div>
    </div>
  </div>
</div>
