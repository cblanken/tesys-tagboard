{% extends "account/base_entrance.html" %}

{% load static component_tags %}

{% block title %}
  User:
  {{ object.username }}
{% endblock title %}
{% block content %}
  <div class="w-full xl:w-350">
    <div class="tabs">
      <label class="flex gap-2 items-center text-lg tab">
        <input type="radio" name="profile_tabs" checked="checked" />
        {% include "icons/feather.html" with icon="user" %}
        Account
      </label>
      <div class="p-6 tab-content bg-base-200">
        <div>
          <div>
            <h2>{{ user.username }}</h2>
            {% if user.name %}<p>{{ user.name }}</p>{% endif %}
          </div>
        </div>
        {% if user == request.user %}
          <!-- Action buttons -->
          <div>
            <a class="btn btn-primary" href="{% url 'users:update' %}" role="button">My Info</a>
            <a class="btn btn-primary"
               href="{% url 'account_email' %}"
               role="button">E-Mail</a>
            <a class="btn btn-primary" href="{% url 'mfa_index' %}" role="button">MFA</a>
          </div>
          <!-- End Action buttons -->
        {% endif %}
      </div>
      {% if favorites_pager %}
        <label class="flex gap-2 items-center text-lg tab">
          <input type="radio" name="profile_tabs" />
          {% include "icons/feather.html" with icon="heart" %}
          Favorites
        </label>
        <div class="p-6 tab-content bg-base-200">
          <div class="flex flex-col gap-4 items-center">
            {% component "pager" with pager=favorites_pager page=favorites_page / %}
            <div class="flex flex-wrap gap-4 justify-center">{% include "posts/gallery.html" with posts=favorites_page %}</div>
            {% component "pager" with pager=favorites_pager page=favorites_page / %}
          </div>
        </div>
      {% endif %}
      <label class="flex gap-2 items-center text-lg tab">
        <input type="radio" name="profile_tabs" />
        {% include "icons/feather.html" with icon="list" %}
        <div>Collections</div>
      </label>
      <div class="p-6 tab-content bg-base-200">
        <div class="grid grid-cols-1 gap-4 w-full lg:grid-cols-2 xl:grid-cols-3">
          {% for collection in collections %}
            {% component "collection_thumbnail" collection=collection / %}
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
{% endblock content %}
