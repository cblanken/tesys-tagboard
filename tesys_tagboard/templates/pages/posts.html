{% extends "base.html" %}

{% load static component_tags %}

{% block title %}
  {{ block.super }} â€” Posts
{% endblock title %}
{% block javascript %}
  {{ block.super }}
  <script defer src="{% static 'js/posts.js' %}"></script>
{% endblock javascript %}
{% block content %}
  <div class="flex flex-col gap-4 justify-center items-center max-w-svw">
    {% include "heading.html" with text="POSTS" %}
    <div class="m-auto w-full h-36 md:max-w-lg lg:max-w-3xl min-h-fit">
      <div class="flex gap-2 items-center place-items-end w-full">
        <form id="advanced-post-search"
              action="{% url 'posts' %}"
              method="get"
              class="flex hidden flex-col gap-2 w-full align-stretch">
          {% component "search_bar" input_text=query / %}
          <button id="advanced-search-submit-btn"
                  type="submit"
                  class="mt-3 w-full text-xl btn btn-lg btn-primary">Search</button>
        </form>
        <form action="{% url 'posts' %}"
              id="simple-post-search"
              method="post"
              enctype="multipart/form-data"
              class="flex flex-col gap-2 w-full align-stretch lg:max-w-250">
          {% csrf_token %}
          {% component "add_tagset" tags=tags add_tag_enabled=True / %}
          <button id="simple-search-submit-btn"
                  type="submit"
                  class="mt-3 w-full text-xl btn btn-lg btn-primary">Search</button>
        </form>
        <button id="edit-advanced-search-btn"
                type="button"
                class="place-self-end md:px-2 btn btn-secondary btn-soft btn-square md:btn-block md:w-fit">
          <div class="flex items-center rounded-box tooltip"
               data-tip="Toggle between the simple and advanced search modes. The advanced mode requires you to manually enter any tag names or other filters using the search query syntax available on the Help page.">
            {% include "icons/feather.html" with icon="edit-3" %}
            <div id="edit-advanced-search-btn-text"
                 class="hidden ml-2 font-mono font-bold tracking-wide md:block upper">ADVANCED</div>
          </div>
        </button>
      </div>
    </div>
    {% component "post_gallery" page=page pager=pager / %}
  </div>
{% endblock content %}
